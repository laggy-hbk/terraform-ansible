# terraform-ansible
–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –Ø–Ω–¥–µ–∫—Å –æ–±–ª–∞–∫–µ + —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û

## –û–ø–∏—Å–∞–Ω–∏–µ

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –≤ Yandex Cloud —Å –ø–æ–º–æ—â—å—é Terraform. –ó–∞—Ç–µ–º –Ω–∞ –Ω–µ—ë —Å –ø–æ–º–æ—â—å—é Ansible —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Apache –∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —Ñ–∞–π–ª `index.html`.

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Terraform** ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ Yandex Cloud
- **Ansible** ‚Äî –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –í–ú –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û
- **Yandex Cloud** ‚Äî –æ–±–ª–∞—á–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- **Ubuntu 20.04** ‚Äî –û–° –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Local Machine
‚îÇ
‚îú‚îÄ‚îÄ Terraform ‚Üí Yandex Cloud ‚Üí –í–ú (Ubuntu 20.04)
‚îÇ                              ‚îî‚îÄ‚îÄ Apache2
‚îÇ                              ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ Ansible ‚Üí –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π –Ω–∞ –í–ú
```

## üöÄ –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform
```bash
terraform init
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```bash
terraform apply
```
*–°–æ–∑–¥–∞—ë—Ç—Å—è –í–ú, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è SSH-–∫–ª—é—á, –ø–æ–ª—É—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–π IP*

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Apache —á–µ—Ä–µ–∑ Ansible
```bash
ansible-playbook -i <EXTERNAL_IP>, install_apache.yml --private-key id_rsa -u ubuntu
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ IP-–∞–¥—Ä–µ—Å—É –í–ú –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://<EXTERNAL_IP>
```

## –§–∞–π–ª—ã

- `main.tf` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Terraform
- `install_apache.yml` ‚Äî playbook Ansible
- `index.html` ‚Äî —Ñ–∞–π–ª, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

